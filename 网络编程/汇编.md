### 汇编语言

#### 基础知识

从CPU运行的角度去思考计算机的运行，所以通过修改寄存器中的值，可以实现不同的运算结果，而寄存器中的值可以直接修改，也可以从内存中读取指令，通过CPU运行指令从而实现寄存器的修改；

为实现与内存等外部硬件联通，CPU引脚会引出对应的总线，这种对外沟通的总线分为三类：地址总线，数据总线，控制总线；其中地址总线负责获知需要读写的内存区域的地址，数据总线负责数据的传输，控制总线负责读或写等命令的传输；每种总线根据其总线数量的不同决定了其可以指定的地址、每次传输的数据量和控制信息的传输量，如地址总线有16根，则CPU可以指定的地址最大为2^16（内存中每个地址代表1字节，即64KB），而数据总线有20根，所以每次可最大传输数据量2^20（1MB）。

> 本段中仅说明了内存，其实对于CPU而言存储硬件不仅仅是内存，如显卡的显存、主板ROM（只读不可写）等均为CPU的存储部分，均可被寻址，会为不同的硬件划分不同的地址区间

如8086CPU中，地址总线20根，寻址能力为1MB，但是CPU本身是16位结构，即每次传输、暂存、处理的能力仅为64KB，寄存器最大宽度也仅为16位；显然可寻址的地址宽度大于可处理的宽度，即寄存器无法寻址到超出16位的内存地址，所以CPU使用两个16位地址合成出20位地址的方式，即**基础地址+偏移地址**的方式计算出物理地址，更近一步的说是段起始地址*16+偏移地址，段起始地址和偏移地址均为16位。

> 出现了段的概念，但不要人为的认为内存物理上被划分为段，其实是一种逻辑上的段，也仅仅是一种逻辑上的段，每个16的倍数的地址均可以作为一个段起始位置，所以一个20位的地址可以被多种不同的段起始和偏移表示出来！

寄存器中CS（代码段）和IP（指令指针）寄存器用于存放**指令**的段起始和偏移地址，CPU会根据CS*16+IP的方式获取存储中的指令并执行，jmp命令可以修改CS和IP中的值



DS寄存器存放要访问的数据的段地址，DS寄存器无法直接mov转移数值，只接受转移自其他寄存器

当需要访问内存单元时，`[...]`表示内存单元，`...`表示内存的偏移地址，如 `[0]`表示偏移0，而段地址就保存在DS寄存器中。所以`mov ax [b]`即表示CPU从DS*16+11地址读取内存数值并转移至ax寄存器